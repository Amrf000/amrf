<link rel="stylesheet" type="text/css" href="../css/blog.css"><div class="cloud-blog-detail-content-wrap the_height"><div class="cloud-blog-detail-content-wrap">
    <div class="cloud-blog-detail-content blog-content-block-0" id="blogContent">
        <p>原文:</p>
<p><a>https://medium.com/@shaaslam/installing-apache-kafka-on-windows-495f6f2fd3c8</a></p>
<h3>第一步:<br></h3>
<p>在Windows上安装Apache ZooKeeper(<a style="white-space: normal;">https://medium.com/@shaaslam/installing-apache-zookeeper-on-windows-45eda303e835</a>)</p>
<p>使用7-Zip下载并提取Apache Zookeeper，网址为：http: //zookeeper.apache.org/releases.html#download</p>
<p>JRE是运行Apache Zookeeper所必需的。</p>
<p>在撰写本文时，zookeeper的稳定版本为3.4.9。</p>
<p>您可以在任何地方下载和解压缩该文件，但出于本指南的考虑，我假设将zookeeper提取到C：\ Tools \</p>
<p>说明：</p>
<p>将C：\ Tools \ zookeeper-3.4.9 \ conf中的“ zoo_sample.cfg”复制并重命名为“ zoo.cfg”</p>
<p>在zookeeper文件夹中创建数据目录。</p>
<p>使用记事本或notepad ++等任何文本编辑器查找并编辑dataDir = /tmp/zookeeper到C:\\Tools\\zookeeper\\zookeeper-3.4.9\\data。（将zookeeper版本更改为您的版本）</p>
<p>dataDir = C:\\Tools\\zookeeper\\zookeeper-3.4.9\\data</p>
<p>在系统环境变量中添加条目。</p>
<p>添加系统变量ZOOKEEPER_HOME = C:\Tools\zookeeper-3.4.9</p>
<p>编辑名为“ Path”的系统变量，并将其附加在最后的;％ZOOKEEPER_HOME％\ bin;中。</p>
<p>打开命令提示符，然后键入zkserver。</p>
<p>zkserver将在默认端口2181上启动zookeeper，您可以在zoo.cfg文件中更改默认端口</p>
<h3 style="white-space: normal;">第二步:</h3>
<p>从此处(https://kafka.apache.org/)下载并解压缩Apache Kafka 。</p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="ft ho" style="box-sizing: inherit; font-weight: 700;">设置Apache Kafka</span></p>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
 <li><p><span style=""><span style="">转到Apache Kafka中的config文件夹，然后</span><span style="">使用任何文本编辑器</span><span style="">编辑<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">“</span></span></span><em class="hp" style="box-sizing: inherit;"></em><em class="hp" style="box-sizing: inherit; color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; white-space: normal; background-color: rgb(255, 255, 255);">server.properties</em><span style=""><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">”&nbsp;</span>。</span></p></li>
 <li><p><span style=""><span style="">在</span><em class="hp" style="box-sizing: inherit;"><span style=""><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">“</span><em class="hp" style="box-sizing: inherit; color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; white-space: normal; background-color: rgb(255, 255, 255);">=/tmp/kafka-logs</em><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">”&nbsp;</span></span></em><span style="">之后</span><span style="">找到</span></span><em class="hp" style="box-sizing: inherit;">log.dirs</em><span style="">并拒绝，</span><em class="hp" style="box-sizing: inherit;">直到</em><span style="">&nbsp;<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">“</span></span><em class="hp" style="box-sizing: inherit; color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; white-space: normal; background-color: rgb(255, 255, 255);">=C:\\Tools\\kafka_2.10–0.10.1.1\\kafka-logs</em><em class="hp" style="box-sizing: inherit;"></em><span style="">&nbsp;<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">”&nbsp;</span>（更改您的版本号）。</span></p></li>
</ol>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px; white-space: normal; background-color: rgb(255, 255, 255);"><span style=""><span style="">保持其他设置不变。</span><span style="">如果您的Apache Zookeeper在其他服务器上，则更改<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">“</span></span></span><em class="hp" style="box-sizing: inherit; color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; white-space: normal; background-color: rgb(255, 255, 255);">zookeeper.connect</em><span style="">”属性。</span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="">默认情况下，Apache Kafka将在端口</span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;">9092</span><span style=""><span style="">上运行，</span><span style="">而Apache Zookeeper将在端口</span></span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;">2181</span><span style=""><span style="">上运行</span><span style="">。</span></span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span class="ft ho" style="box-sizing: inherit; font-weight: 700;">运行Apache Kafka</span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style="">打开命令提示符，然后转到您的Apache Kafka目录，然后运行以下命令。</span></p>
<blockquote class="hq hr hs" style="box-sizing: inherit; margin: 0px 0px 0px -20px; box-shadow: rgba(0, 0, 0, 0.84) 3px 0px 0px 0px inset; padding-left: 23px;">
 <p class="fr gf ap hp ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-style: italic; font-size: 21px;"><span style=""><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">.\bin\windows\kafka-server-start.bat .\config\server.properties</span></span></p>
</blockquote>
<p><img src="https://bbs-img.huaweicloud.com/blogs/img/1589960997402004283.png"></p>
<p><br></p>
<p><span style="">在命令提示符上运行的Apache Kafka</span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style=""><span style="">一切顺利，Apache Kafka已启动并在端口</span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;"><span style="">9092</span></span><span style="">上运行</span></span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;">。</span></p>
<h1 class="gp gq ap ce cd gr dg gs di gt gu gv gw gx gy gz ha" style="box-sizing: inherit; margin: 1.95em 0px -0.28em; color: rgba(0, 0, 0, 0.84); font-family: medium-content-sans-serif-font, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Geneva, Arial, sans-serif; line-height: 1.12; letter-spacing: -0.022em; font-size: 34px;"><span style="">在Apache Kafka中创建主题，消费者和生产者</span></h1>
<h2 class="iu gq ap ce cd gr iv iw ix iy iz ja jb jc jd je jf" style="box-sizing: inherit; margin: 1.72em 0px -0.31em; color: rgba(0, 0, 0, 0.84); font-family: medium-content-sans-serif-font, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Geneva, Arial, sans-serif; letter-spacing: -0.022em; line-height: 1.18; font-size: 26px;"><span style="">创建主题</span></h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
 <li><p><span style="">打开命令提示符，然后转到Apache Kafka安装目录。</span></p></li>
 <li><p><span style="">转到<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">\bin\windows&nbsp;</span>目录。</span></p></li>
 <li><p><span style="">运行以下命令。</span></p></li>
</ol>
<blockquote class="hq hr hs" style="box-sizing: inherit; margin: 0px 0px 0px -20px; box-shadow: rgba(0, 0, 0, 0.84) 3px 0px 0px 0px inset; padding-left: 23px;">
 <p class="fr gf ap hp ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-style: italic; font-size: 21px;"><span style=""><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">kafka-topics.bat — create — zookeeper localhost:2181 — replication-factor 1 — partitions 1 — topic sql-insert</span></span></p>
</blockquote>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style="">您将看到输出。</span></p>
<p><br></p>
<p><img src="https://bbs-img.huaweicloud.com/blogs/img/1589961010609094418.png"></p>
<p><span style="">创建主题</span><span class="cd gr" style="box-sizing: inherit; font-weight: 600;">“ sql-insert”。</span></p>
<h2 class="iu gq ap ce cd gr iv iw ix iy iz ja jb jc jd je jf" style="box-sizing: inherit; margin: 1.72em 0px -0.31em; color: rgba(0, 0, 0, 0.84); font-family: medium-content-sans-serif-font, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Geneva, Arial, sans-serif; letter-spacing: -0.022em; line-height: 1.18; font-size: 26px;"><span style="">创建消费者和生产者</span></h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
 <li><p><span style="">打开命令提示符，然后转到Apache Kafka安装目录。</span></p></li>
 <li><p><span style="">转到<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">\bin\windows</span>目录。</span></p></li>
</ol>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style="">运行以下命令以启动</span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;"><em class="hp" style="box-sizing: inherit;">生产者</em></span><span style="">。</span></p>
<blockquote class="hq hr hs" style="box-sizing: inherit; margin: 0px 0px 0px -20px; box-shadow: rgba(0, 0, 0, 0.84) 3px 0px 0px 0px inset; padding-left: 23px;">
 <p class="fr gf ap hp ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-style: italic; font-size: 21px;"><span style="">kafka-console-producer.bat —代理列表<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">localhost:9092</span>—主题<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">&nbsp;sql-insert</span></span><br><span style="">broker-list参数将要连接的代理指定为<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">&lt;node_address:port&gt;</span> —即<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">&nbsp;localhost:9092</span>。</span></p>
</blockquote>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
 <li><p><span style="">再次打开命令提示符，然后转到Apache Kafka安装目录。</span></p></li>
 <li><p><span style="">转到<span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">\bin\windows</span>目录。</span></p></li>
 <li><p><span style="">运行以下命令以启动</span><span class="ft ho" style="box-sizing: inherit; font-weight: 700;"><em class="hp" style="box-sizing: inherit;">使用者</em></span><span style="">。</span></p></li>
</ol>
<blockquote class="hq hr hs" style="box-sizing: inherit; margin: 0px 0px 0px -20px; box-shadow: rgba(0, 0, 0, 0.84) 3px 0px 0px 0px inset; padding-left: 23px;">
 <p class="fr gf ap hp ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-style: italic; font-size: 21px;"><span style=""><span style="color: rgba(0, 0, 0, 0.84); font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-size: 21px; font-style: italic; letter-spacing: -0.063px; background-color: rgb(255, 255, 255);">kafka-console-consumer.bat -bootstrap-server localhost:2181 -topic sql-insert</span></span></p>
</blockquote>
<p><br></p>
<p><img src="https://bbs-img.huaweicloud.com/blogs/img/1589961022860055029.png"></p>
<p><span style="">生产者和消费者在命令提示符上运行</span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style=""><span style="">通过在不同的终端中运行所有四个组件（动物园管理员，经纪人，生产者和消费者），您将能够从生产者的终端输入消息，并看到它们出现在订阅的消费者的终端中。</span><span style="">如果一切正常，您将能够推送并查看消息。</span></span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px;"><span style=""><span style="">恭喜你！</span><span style="">您的Apache Kafka设置已完成。</span></span></p>
<p class="fr gf ap ce ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-size: 21px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 176, 80);">/-----------------------------------------------------------------------------------/</span></p>
<p class="fr gf ap hp ft b fu fv gg fw fx gh fy fz gi ga gb gj gc gd gk ge cx" style="box-sizing: inherit; margin-top: 2em; margin-bottom: -0.46em; color: rgba(0, 0, 0, 0.84); word-break: break-word; line-height: 32px; font-family: medium-content-serif-font, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; letter-spacing: -0.003em; font-style: italic; font-size: 21px;"><span style=""></span></p>
<p><a></a></p>
<p><img src="https://bbs-img.huaweicloud.com/blogs/img/1591752656128087692.png" title="1591752656128087692.png" alt="image.png"><span style="font-family: sans-serif; font-size: 16px;"></span></p>
    </div>
    
    
    <p class="pc_current ask-tip">登录后可下载附件，请<a href="https://auth.huaweicloud.com/authui/login?service=https://bbs.huaweicloud.com/blogs/168665#attachment&amp;locale=zh-cn">登录</a>或者<a href="https://reg.huaweicloud.com/registerui/public/custom/register.html?locale=zh-cn&amp;service=https://bbs.huaweicloud.com#/register">注册</a></p>

    <!-- 版权声明 start -->
    
   
    
    <!-- 版权声明 end -->

    <div class="blog-menu-footer m-blog-menu-footer-bottom">
        
        <a class="common-blog-menu-btn title_banner_7" target="_self" rel="noopener noreferrer" mate_data_ts="bbs_blogdetail_blogTag.click.软件开发_Blog" title="软件开发" href="https://developer.huaweicloud.com/tags/101224/blog_1">软件开发</a>
        
    </div>
</div></div>