<link rel="stylesheet" type="text/css" href="../css/blog.css"><div class="cloud-blog-detail-content-wrap the_height"><div class="cloud-blog-detail-content-wrap">
    <div class="cloud-blog-detail-content blog-content-block-0" id="blogContent">
        <h1 class="fd fe ff fg b fh fi fj fk fl fm fn fo fp fq fr fs ft fu fv fw fx fy fz ga gb ce cyxy-trs-source cyxy-trs-source-ted"><span>&nbsp;</span>Pytestæµ‹è¯•æ¡†æ¶ä»‹ç»(https://medium.com/testcult/intro-to-test-framework-pytest-5b1ce4d011ae)</h1>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹  pytest(https://docs.pytest.org/en/latest/)ï¼Œä¸€ä¸ªåŸºäº python çš„æµ‹è¯•æ¡†æ¶ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨ç»§ç»­å‰è¿›ä¹‹å‰ï¼Œå»ºè®®é˜…è¯»æœ¬ç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†è§£é‡Šäº†è‡ªåŠ¨åŒ–çš„åŸºç¡€çŸ¥è¯†-</p> 
  <div class="it iu iv iw ix iy"> 
   <div class="ch n bs"> 
    <div class="iz n ja p jb jc"> 
     <h2 class="fg b jd je dr jf gn go jg gq gr fe ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">API è‡ªåŠ¨åŒ–å…¥é—¨: ç¬¬1éƒ¨åˆ†-æ¦‚è¿°</h2> 
     <div class="jh s"> 
      <h3 class="az b cb bb dr ji gn go jg gq gr bc cyxy-trs-source cyxy-trs-target" style="color: #757575;">æ‰€ä»¥ä½ æƒ³å¼€å§‹è‡ªåŠ¨åŒ– apiï¼Œä½†æ˜¯ï¼Œæ¯æ¬¡ä½ åœ¨ google ä¸Šæœç´¢æœ€å¥½çš„ api è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¹ˆå¤š..</h3> 
     </div> 
    </div> 
    <div class="jk s"> 
     <div class="jl s jm jn jo jk jp jq iy"> 
      <br> 
     </div> 
    </div> 
   </div> 
  </div> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is"><em class="ff">Step 1: Installation-</em></strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¬¬ä¸€æ­¥: å®‰è£… -</p> 
  </blockquote> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬éœ€è¦å®‰è£… pythonï¼Œç‰ˆæœ¬2æˆ–3æ”¯æŒä¸¤ä¸ªç‰ˆæœ¬ã€‚éšç€ Python çš„å®‰è£…è€Œæ¥çš„æ˜¯ pip â€”â€”ä¸€ä¸ªç”¨äºå®‰è£…å’Œç®¡ç† Python ç¼–å†™çš„è½¯ä»¶åŒ…çš„åŒ…ç®¡ç†ç³»ç»Ÿã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¦å®‰è£… pytestï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ pip å‘½ä»¤-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>pip install pytest</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">å°±è¿™æ ·ï¼Œpytest å·²ç»å®‰è£…ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨ pytest ç¼–å†™æµ‹è¯•ã€‚</p> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is"><em class="ff">Step 2: Pytest syntax for writing tests-</em></strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ­¥éª¤2: ç¼–å†™æµ‹è¯•çš„ Pytest è¯­æ³•-</p> 
  </blockquote> 
  <ul class=""> 
   <li class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq kh ki kj ce cyxy-trs-source cyxy-trs-source cyxy-trs-source" style="color: #292929;">â€œ<span>&nbsp;æ–‡ä»¶ååº”ä»¥â€œ</span><strong class="hv is cyxy-trs-source">test<span>&nbsp;æµ‹è¯•</span></strong>â€, as in<span>&nbsp;</span><span>â€ï¼Œæ¯”å¦‚</span><code class="kk kl km kn kd b">test_example.py</code><span>&nbsp;</span>or<span>&nbsp;</span><span>æˆ–</span><code class="kk kl km kn kd b">example_test.py</code>.</li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source cyxy-trs-source cyxy-trs-source cyxy-trs-source cyxy-trs-source" style="color: #292929;">the<span>&nbsp;</span><span>å¦‚æœæµ‹è¯•å®šä¹‰ä¸ºç±»ä¸Šçš„æ–¹æ³•ï¼Œåˆ™</span><strong class="hv is cyxy-trs-source">class name<span>&nbsp;ç±»å</span></strong><span> </span>&nbsp;â€œ<span>&nbsp;åº”è¯¥ä»â€œ</span><strong class="hv is cyxy-trs-source">Test<span>&nbsp;æµ‹è¯•</span></strong>â€, as in<span>&nbsp;â€ï¼Œæ¯”å¦‚</span><code class="kk kl km kn kd b">TestExample</code>.<span>ã€‚ç±»ä¸åº”è¯¥æœ‰ä¸€ä¸ª</span><code class="kk kl km kn kd b">__init__</code><span>&nbsp;</span>method.<span>&nbsp;æ–¹æ³•</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce" style="color: #292929;"><mark><span>æµ‹è¯•</span></mark><mark><strong class="hv is cyxy-trs-source"><span>æ–¹æ³•åæˆ–å‡½æ•°å</span></strong></mark><mark> <span>åº”è¯¥ä»â€œ</span></mark><mark><strong class="hv is cyxy-trs-source">test_<span>&nbsp;æµ‹è¯•</span></strong></mark><mark>â€, <span>æ¯”å¦‚</span></mark><mark><code class="kk kl km kn kd b">test_example</code></mark><mark>. <span>&nbsp;</span><span>åç§°ä¸æ­¤æ¨¡å¼ä¸åŒ¹é…çš„æ–¹æ³•ä¸ä¼šä½œä¸ºæµ‹è¯•æ‰§è¡Œ</span></mark></li> 
  </ul> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æ¸…æ¥šäº†å‘½åçº¦å®šï¼Œè®©æˆ‘ä»¬åˆ›å»ºé¡¹ç›®ç›®å½•-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>- demo_tests/
    - test_example.py</code></pre> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is">Step 3: Write basic tests in pytest</strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ­¥éª¤3: åœ¨ pytest ä¸­ç¼–å†™åŸºæœ¬æµ‹è¯•</p> 
  </blockquote> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨ test _ example.py æ–‡ä»¶ä¸­ï¼Œè®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªéå¸¸ç®€å•çš„å‡½æ•° sumï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•° num1å’Œ num2å¹¶è¿”å›å®ƒä»¬çš„å’Œã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>def sum(num1, num2):
    """It returns sum of two numbers"""
    return num1 + num2</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨æˆ‘ä»¬å°†ç¼–å†™æµ‹è¯•æ¥æµ‹è¯• sum å‡½æ•°-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>import pytest#make sure to start function name with test
def test_sum():
    assert sum(1, 2) == 3</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œéå† demo _ tests ç›®å½•å¹¶è¿è¡Œå‘½ä»¤:</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>#It will find all tests inside file test_example.py and run them
pytest test_example.py
</code></pre> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="100" id="images_162515135837254" src="https://miro.medium.com/max/2000/1*stilFb3-0v1fCY6-MJbc4A.png" width="1000"> 
    </div> 
   </div> <span>æµ‹è¯•è¿è¡Œç»“æœ</span> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨è¿™é‡Œï¼Œæ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚ç”±äºæˆ‘ä»¬ç°åœ¨åªæœ‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°1ç‚¹ï¼Œå®ƒé€šè¿‡åœ¨0.01ç§’ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¦è·å¾—å…³äºæµ‹è¯•è¿è¡Œçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ -v (verbose)é€‰é¡¹ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>pytest test_example.py -v</code></pre> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <br> 
   </div> <span>å¼€å¯è¯¦ç»†æ¨¡å¼çš„æµ‹è¯•è¿è¡Œç»“æœ</span> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨ test _ example.py æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæµ‹è¯•ï¼Œå®ƒå°†æµ‹è¯•å‡½æ•° sum ç»™å‡ºçš„è¾“å‡ºç±»å‹å³æ•´æ•°ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>def test_sum_output_type():
    assert type(sum(1, 2)) is int</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸¤ä¸ªæµ‹è¯•çš„è¾“å‡ºï¼Œä»¥åŠ<code class="kk kl km kn kd b">test_sum<span>&nbsp;</span></code>å’Œ <code class="kk kl km kn kd b">test_sum_output_type</code></p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lu"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="101" id="images_162515135837248" src="https://miro.medium.com/max/2000/1*wuoh_qpIWW8AdFwKfOxfLQ.png" width="1000"> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†æ‰€æœ‰é€šè¿‡çš„æµ‹è¯•ï¼Œè®©æˆ‘ä»¬å°†<code class="kk kl km kn kd b">test_sum</code> assertion æ›´æ”¹ä¸º fail-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>def test_sum():
    assert sum(1, 2) == 4</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™å°†ç»™å‡ºç»“æœå’Œå¤±è´¥çš„åŸå› ï¼Œæˆ‘ä»¬é¢„æœŸå’Œ(1,2)æ˜¯3ç­‰äº4ã€‚</p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="236" id="images_162515135837255" src="https://miro.medium.com/max/2000/1*sgHXNoejhREpJfDp26GsHw.png" width="1000"> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™åŒ…æ‹¬ pytest çš„åŸºæœ¬çŸ¥è¯†ã€‚ç°åœ¨æˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶ä¸€äº›é«˜çº§çš„æ¦‚å¿µï¼Œè¿™äº›æ¦‚å¿µä½¿å¾— pytest ä¸­çš„æµ‹è¯•ç¼–å†™æ›´åŠ å¼ºå¤§ã€‚</p> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is">Step 4: Parametrizing test methods</strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¬¬å››æ­¥: å‚æ•°åŒ–æµ‹è¯•æ–¹æ³•</p> 
  </blockquote> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¦‚æœæ‚¨æŸ¥çœ‹æˆ‘ä»¬çš„ <code class="kk kl km kn kd b">test_sum</code> å‡½æ•°ï¼Œå®ƒåªä½¿ç”¨ä¸€ç»„è¾“å…¥(1,2)æµ‹è¯•æˆ‘ä»¬çš„ sum å‡½æ•°ï¼Œå¹¶ä¸”æµ‹è¯•æ˜¯ä½¿ç”¨è¿™ä¸ªå€¼è¿›è¡Œç¡¬ç¼–ç çš„ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¦†ç›–æ›´å¤šåœºæ™¯çš„æ›´å¥½æ–¹æ³•æ˜¯å°†æµ‹è¯•æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™æˆ‘ä»¬çš„æµ‹è¯•å‡½æ•°ï¼Œç„¶åæ–­è¨€é¢„æœŸçš„ç»“æœã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è®©æˆ‘ä»¬ä¿®æ”¹ <code class="kk kl km kn kd b">test_sum</code> å‡½æ•°æ¥ä½¿ç”¨å‚æ•°ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>import pytest@pytest.mark.parametrize('num1, num2, expected', [(3,5,8)])
def test_sum(num1, num2, expected):
        assert sum(num1, num2) == expected</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">å†…å»ºçš„ pytest.mark.parametrize(https://docs.pytest.org/en/latest/reference.html#pytest-mark-parametrize-ref) decorator å…è®¸å¯¹æµ‹è¯•å‡½æ•°çš„å‚æ•°è¿›è¡Œå‚æ•°åŒ–</p> 
  <ul class=""> 
   <li class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq kh ki kj ce cyxy-trs-source cyxy-trs-source cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">argnames<span>&nbsp;é˜¿å°”æˆˆå</span></strong><span>&nbsp;</span>â€”<span>ãƒ¼ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°åç§°ï¼Œæˆ–å‚æ•°å­—ç¬¦ä¸²çš„åˆ—è¡¨/å…ƒç»„</span><code class="kk kl km kn kd b">num1</code>,<span>&nbsp;</span><code class="kk kl km kn kd b">num2</code><span>&nbsp;</span>and<span>&nbsp;</span><span>åŠ</span><code class="kk kl km kn kd b">expected</code><span>&nbsp;</span>as 1st input , 2nd input and expected sum respectively.<span>&nbsp;åˆ†åˆ«ä½œä¸ºç¬¬ä¸€è¾“å…¥ã€ç¬¬äºŒè¾“å…¥å’ŒæœŸæœ›å’Œ</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source cyxy-trs-source cyxy-trs-source cyxy-trs-source cyxy-trs-source cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">argvalues<span>&nbsp;é˜¿å°”æ ¼å€¼</span></strong><span>&nbsp;</span>â€” <span>argvalues åˆ—è¡¨å†³å®šäº†ä½¿ç”¨ä¸åŒå‚æ•°å€¼è°ƒç”¨æµ‹è¯•çš„é¢‘ç‡ã€‚å¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ª argname å€¼ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå€¼åˆ—è¡¨ã€‚å¦‚æœæŒ‡å®šäº† n ä¸ª argnamesï¼Œåˆ™ argvalues å¿…é¡»æ˜¯ n-tuple çš„åˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ª tuple å…ƒç´ ä¸ºå…¶å„è‡ªçš„ argname æŒ‡å®šä¸€ä¸ªå€¼ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªå…ƒç»„</span><code class="kk kl km kn kd b">(3,5,8)</code><span>&nbsp;</span>inside a list where<span>&nbsp;</span><span>åœ¨ä¸€ä¸ªåå•é‡Œ</span><code class="kk kl km kn kd b">3</code><span>&nbsp;</span>is<span>&nbsp;</span><span>æ˜¯</span><code class="kk kl km kn kd b">num1</code>,<code class="kk kl km kn kd b">5</code><span>&nbsp;</span>is<span>&nbsp;æ˜¯</span><code class="kk kl km kn kd b">num2</code><span>&nbsp;</span>and<span>&nbsp;</span><span>åŠ</span><code class="kk kl km kn kd b">8</code>is<span>&nbsp;</span><span>æ˜¯</span><code class="kk kl km kn kd b">expected sum.</code></li> 
  </ul> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;">Here, the<span>&nbsp;</span><code class="kk kl km kn kd b">@parametrize</code><span>&nbsp;</span>decorator defines one<span>&nbsp;</span><code class="kk kl km kn kd b">(num1, num2, expected)</code><span>&nbsp;</span>tuple so that the<span>&nbsp;</span><code class="kk kl km kn kd b">test_sum</code><span>&nbsp;</span>function will run one time.</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨è¿™é‡Œ,@parametrize decorator å®šä¹‰äº†ä¸€ä¸ª(num1ï¼Œnum2ï¼Œexpected)å…ƒç»„ï¼Œä»¥ä¾¿ test _ sum å‡½æ•°è¿è¡Œä¸€æ¬¡ã€‚</p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="99" id="images_162515135837259" src="https://miro.medium.com/max/2000/1*v3cpMJO3aQPXqHO8mzHFDA.png" width="1000"> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’çš„åˆ—è¡¨ä¸­æ·»åŠ å‡ ä¸ªå…ƒç»„(num1ï¼Œnum2ï¼Œexpected)ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>import pytest@pytest.mark.parametrize('num1, num2, expected',[(3,5,8),              (-2,-2,-4), (-1,5,4), (3,-5,-2), (0,5,5)])
def test_sum(num1, num2, expected):
        assert sum(num1, num2) == expected</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ­¤æµ‹è¯•<code class="kk kl km kn kd b">test_sum</code>test å°†å¯¹ä¸Šè¿°å‚æ•°è¿è¡Œ5æ¬¡</p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="158" id="images_16251513583720" src="https://miro.medium.com/max/2000/1*P3i126JeddFcE8F4edw99Q.png" width="1000"> 
    </div> 
   </div> <span>&nbsp;è¯·æ³¨æ„ test _ sum []ä¸­çš„å‚æ•°å€¼ã€‚æ¯ä¸ªå€¼æ¯æ¬¡éƒ½ä¼šæ›´æ”¹</span> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å·²ç»ç›´æ¥ä¼ é€’äº†ç¬¬äºŒä¸ªå‚æ•°çš„å€¼(è¿™æ˜¯å®é™…çš„æµ‹è¯•æ•°æ®)ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨å‡½æ•°æ¥è·å–è¿™äº›å€¼ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>import pytestdef get_sum_test_data():
        return [(3,5,8), (-2,-2,-4), (-1,5,4), (3,-5,-2), (0,5,5)]@pytest.mark.parametrize('num1, num2, expected',get_sum_test_data())
def test_sum(num1, num2, expected):
        assert sum(num1, num2) == expected</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™ä¹Ÿä¼šå¾—åˆ°ä¸ä¸Šé¢ç›¸åŒçš„ç»“æœã€‚</p> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is">Step 5: Use of Fixtures</strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¬¬äº”æ­¥: ä½¿ç”¨è£…ç½®</p> 
  </blockquote> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ ¹æ®å®˜æ–¹ pytest æ–‡æ¡£: æµ‹è¯•è£…ç½®çš„ç›®çš„(http://en.wikipedia.org/wiki/Test_fixture#Software)æ˜¯æä¾›ä¸€ä¸ªå›ºå®šçš„åŸºçº¿ï¼Œåœ¨è¿™ä¸ªåŸºçº¿ä¸Šæµ‹è¯•å¯ä»¥å¯é åœ°é‡å¤æ‰§è¡Œã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">Fixture å¯ç”¨äºåœ¨æµ‹è¯•ä¹‹é—´å…±äº«æµ‹è¯•æ•°æ®ï¼Œåˆ†åˆ«åœ¨æµ‹è¯•æ‰§è¡Œä¹‹å‰å’Œä¹‹åæ‰§è¡Œ setup å’Œ teardown æ–¹æ³•ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¸ºäº†ç†è§£ fixtureï¼Œæˆ‘ä»¬å°†é‡å†™ä¸Šé¢çš„<code class="kk kl km kn kd b">test_sum</code> å‡½æ•°ï¼Œå¹¶åˆ©ç”¨ fixture è·å¾—æµ‹è¯•æ•°æ®-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>import pytest@pytest.fixture
def get_sum_test_data():
        return [(3,5,8), (-2,-2,-4), (-1,5,4), (3,-5,-2), (0,5,5)]def test_sum(get_sum_test_data):
        for data in get_sum_test_data:
                num1 = data[0]
                num2 = data[1]
                expected = data[2]
                assert sum(num1, num2) == expected</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™å°†ç»™å‡ºè¾“å‡º-</p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lt"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="95" id="images_162515135837272" src="https://miro.medium.com/max/2000/1*WCEfN9KU2EwP3DLrqu4TXg.png" width="1000"> 
    </div> 
   </div> <span>æ³¨æ„ï¼Œç°åœ¨æ²¡æœ‰æ˜¾ç¤ºä¸åŒçš„æµ‹è¯•å‚æ•°</span> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¦‚æœæŸ¥çœ‹ä¸Šé¢çš„æµ‹è¯•ç»“æœï¼Œæ‚¨å¯èƒ½ä¼šæ€€ç–‘æµ‹è¯•æ˜¯å¦è¿è¡Œäº†æ‰€æœ‰çš„å€¼ï¼Œå› ä¸ºä»æµ‹è¯•è¿è¡Œæ¥çœ‹å¹¶ä¸æ¸…æ¥šã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬æ›´æ”¹å…¶ä¸­ä¸€ä¸ªæµ‹è¯•æ•°æ®ä»¥åŒ…å«é”™è¯¯å¹¶é‡æ–°è¿è¡Œæµ‹è¯•ã€‚</p> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="321" id="images_16251513583726" src="https://miro.medium.com/max/2000/1*TnqHQylkqPTDbWNRvC5QCg.png" width="1000"> 
    </div> 
   </div> <span>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹æ¯ä¸ªæ•°æ®è¿è¡Œçš„æµ‹è¯•åœ¨æœ€åä¸€ä¸ªæ•°æ®ä¸­å¤±è´¥äº†</span> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;"><strong class="hv is">Scope of fixture</strong>â€”â€” Scope æ§åˆ¶ fixture è¢«è°ƒç”¨çš„é¢‘ç‡ã€‚é»˜è®¤æ˜¯å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯<code class="kk kl km kn kd b">scope</code>çš„é€‰é¡¹:</p> 
  <ul class=""> 
   <li class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">function:<span>&nbsp;</span><span>åŠŸèƒ½:</span></strong>Run once per test<span>&nbsp;æ¯æ¬¡æµ‹è¯•è¿è¡Œä¸€æ¬¡</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">class:<span>&nbsp;</span><span>ç±»åˆ«:</span></strong>Run once per class of tests<span>&nbsp;æ¯ç±»æµ‹è¯•è¿è¡Œä¸€æ¬¡</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">module:<span>&nbsp;</span><span>æ¨¡å—:</span></strong>Run once per module<span>&nbsp;æ¯ä¸ªæ¨¡å—è¿è¡Œä¸€æ¬¡</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><strong class="hv is cyxy-trs-source">session:<span>&nbsp;</span><span>ä¼šè®®:</span></strong>Run once per session<span>&nbsp;æ¯ä¸ªä¼šè¯è¿è¡Œä¸€æ¬¡</span></li> 
  </ul> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä»æœ€ä½åˆ°æœ€é«˜çš„å¯èƒ½èŒƒå›´æ˜¯:</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;">function &lt; class &lt;module&lt;session.</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">Fixture å¯ä»¥æ ‡è®°ä¸º <code class="kk kl km kn kd b">autouse=True</code>ï¼Œè¿™å°†ä½¿æ‚¨çš„å¥—ä»¶ä¸­çš„æ¯ä¸ªæµ‹è¯•é»˜è®¤ä½¿ç”¨å®ƒã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ fixture æ¥ç¼–å†™ <code class="kk kl km kn kd b">setup_and_teardown</code> å‡½æ•°ã€‚Setup å‡½æ•°åœ¨æµ‹è¯•å¼€å§‹å‰ä»æ•°æ®åº“ä¸­è¯»å–ä¸€äº›æ•°æ®ï¼Œteardown å‡½æ•°åœ¨æµ‹è¯•ç»“æŸåå°†æµ‹è¯•è¿è¡Œæ•°æ®å†™å…¥æ•°æ®åº“ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬çš„ <code class="kk kl km kn kd b">setup_and_teardown</code> å‡½æ•°åªæ˜¯æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ³¨æ„ setup å’Œ teardown ä¸­çš„äº§é‡ï¼Œä»»ä½•åœ¨ yieldis æ‰§è¡Œåå†™çš„ä»£ç éƒ½æ˜¯åœ¨æµ‹è¯•æ‰§è¡Œç»“æŸåå†™çš„ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>@pytest.fixture(scope='session')
def get_sum_test_data():
        return [(3,5,8), (-2,-2,-4), (-1,5,4), (3,-5,-2), (0,5,5)]@pytest.fixture(autouse=True)
def setup_and_teardown():
        print '\nFetching data from db'
        yield
        print '\nSaving test run data in db'def test_sum(get_sum_test_data):
        for data in get_sum_test_data:
                num1 = data[0]
                num2 = data[1]
                expected = data[2]
                assert sum(num1, num2) == expected
</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿˜è¦æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¼ é€’ setup _ å’Œ teardown ä½œä¸º test _ sum å‡½æ•°çš„å‚æ•°ï¼Œå› ä¸º autusse = True å·²ç»åœ¨ fixture å®šä¹‰ä¸­è®¾ç½®äº†ã€‚å› æ­¤ï¼Œå®ƒå°†åœ¨æ¯æ¬¡æµ‹è¯•è¿è¡Œä¹‹å‰å’Œä¹‹åè‡ªåŠ¨è°ƒç”¨ã€‚æˆ‘ä»¬ç°åœ¨éœ€è¦ä½¿ç”¨-s é€‰é¡¹è¿è¡Œæµ‹è¯•ä»¥æ‰“å°åˆ° stdoutã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>pytest test_example.py -v -s</code></pre> 
 </div> 
</div>
<div class="ky" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="n p"> 
  <div class="kz la lb lc ld le af lf ag lg ai aj"> 
   <div class="lk ll cg lm aj ln"> 
    <div class="ek el lh"> 
     <img referrerpolicy="no-referrer" alt="" class="mce_image" height="223" id="images_16251513583729" src="https://miro.medium.com/max/2000/1*Oq8REKl1dyhlViTHNw1ScQ.png" width="1000"> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
<div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
 <div class="ab ac ae af ag fc ai aj"> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is">Step 6: Test case Markings</strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¬¬å…­æ­¥: æµ‹è¯•ç”¨ä¾‹æ ‡è®°</p> 
  </blockquote> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">Pytest å…è®¸æ ‡è®°æµ‹è¯•ï¼Œç„¶åæœ‰é€‰æ‹©åœ°è¿è¡Œå®ƒä»¬ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">é€šè¿‡ä½¿ç”¨ pytest.mark åŠ©æ‰‹ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°åœ¨æµ‹è¯•å‡½æ•°ä¸Šè®¾ç½®å…ƒæ•°æ®ã€‚æœ‰ä¸€äº›å†…ç½®çš„æ ‡è®°ï¼Œä¾‹å¦‚:</p> 
  <ul class=""> 
   <li class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><a class="ck ir cyxy-trs-source" style="color: inherit; text-decoration: underline;">skip<span>&nbsp;è·³è¿‡</span></a><span>&nbsp;</span>â€” always skip a test function<span>&nbsp;æ€»æ˜¯è·³è¿‡æµ‹è¯•å‡½æ•°</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><a class="ck ir cyxy-trs-source" style="color: inherit; text-decoration: underline;">skipif<span>&nbsp;èˆ¹é•¿</span></a><span>&nbsp;</span>â€” skip a test function if a certain condition is met<span>&nbsp;ãƒ¼å¦‚ç¬¦åˆæŸäº›æ¡ä»¶ï¼Œåˆ™è·³è¿‡æµ‹è¯•åŠŸèƒ½</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><a class="ck ir cyxy-trs-source" style="color: inherit; text-decoration: underline;">xfail</a><span>&nbsp;</span>â€” produce an â€œexpected failureâ€ outcome if a certain condition is met<span>&nbsp;ãƒ¼å¦‚ç¬¦åˆæŸé¡¹æ¡ä»¶ï¼Œä¾¿ä¼šäº§ç”Ÿã€Œé¢„æœŸå¤±è´¥ã€çš„ç»“æœ</span></li> 
   <li class="ht hu ff hv b hw ko hy hz ia kp ic id ie kq ig ih ii kr ik il im ks io ip iq kh ki kj ce cyxy-trs-source" style="color: #292929;"><a class="ck ir cyxy-trs-source" style="color: inherit; text-decoration: underline;">parametrize<span>&nbsp;æŠ¤ç†</span></a><span>&nbsp;</span>to perform multiple calls to the same test function. (<span>&nbsp;å¯¹åŒä¸€ä¸ªæµ‹è¯•å‡½æ•°æ‰§è¡Œå¤šä¸ªè°ƒç”¨</span><em class="ju cyxy-trs-source">We already discussed this above.<span>&nbsp;æˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»è®¨è®ºè¿‡äº†</span></em>)</li> 
  </ul> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€ä¸ªæµ‹è¯•å‡½æ•°æ ‡è®°ä¸ºæ…¢ï¼Œå¹¶ä¸”åªè¿è¡Œè¯¥å‡½æ•°ã€‚</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>@pytest.mark.slow
def test_sum():
    assert sum(1, 2) == 3def test_sum_output_type():
    assert type(sum(1, 2)) is int</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ï¼Œè¦åœ¨æ–‡ä»¶ test _ example.py ä¸­åªè¿è¡Œæ ‡è®°ä¸ºæ…¢çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨-</p> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code>pytest test_example.py -m slow</code></pre> 
  <blockquote class="jr js jt"> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><strong class="hv is">Step 7: Cheatsheet to run pytest with different options</strong></p> 
   <p class="ht hu ju hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¬¬ä¸ƒæ­¥: ä½¿ç”¨ä¸åŒçš„é€‰é¡¹è¿è¡Œ pytest</p> 
  </blockquote> 
  <pre class="jv jw jx jy jz ka gx dz  language-javascript"><code># keyword expressions 
# Run all tests with some string â€˜validateâ€™ in the name
pytest -k â€œvalidateâ€# Exclude tests with â€˜dbâ€™ in name but include 'validate'
pytest -k â€œvalidate and not dbâ€ #Run all test files inside a folder demo_tests
pytest demo_tests/# Run a single method test_method of a test class TestClassDemo 
pytest demo_tests/test_example.py::TestClassDemo::test_method# Run a single test class named TestClassDemo 
pytest demo_tests/test_example.py::TestClassDemo# Run a single test function named test_sum
pytest demo_tests/test_example.py::test_sum# Run tests in verbose mode: 
pytest -v demo_tests/# Run tests including print statements: 
pytest -s demo_tests/# Only run tests that failed during the last run 
pytest â€” lf</code></pre> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™å°†ä»‹ç» pytest çš„åŸºç¡€çŸ¥è¯†ï¼Œåœ¨é˜…è¯»æœ¬æ–‡ä¹‹åï¼Œæ‚¨åº”è¯¥å¯ä»¥å¼€å§‹ä½¿ç”¨ pytest åœ¨ python ä¸­ç¼–å†™æµ‹è¯•äº†ã€‚</p> 
  <p class="ht hu ff hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ex ce cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ‚¨å¯ä»¥åœ¨æˆ‘çš„ github repo ä¸­æ‰¾åˆ°æ‰€æœ‰ä½¿ç”¨çš„ğŸ‘‰ä»£ç (https://github.com/shashikumarraja/pytest_tutorial)ã€‚</p> 
  <h1 class="posttitle cyxy-trs-source cyxy-trs-target" style="color: #2bbc8a; background-color: #1d1f21;">Pytest ç‰¹æ€§ï¼Œä½ åœ¨ä½ çš„(æµ‹è¯•)ç”Ÿæ´»ä¸­éœ€è¦(https://martinheinz.dev/blog/7)</h1> 
  <p><span style="color: #c9cacc; text-align: justify; background-color: #1d1f21;">æµ‹è¯•ä»£ç æ˜¯å¼€å‘çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œè´¨é‡æµ‹è¯•å¯ä»¥ä¸ºæ‚¨èŠ‚çœå¾ˆå¤šéº»çƒ¦ã€‚æœ‰å¾ˆå¤šå…³äºç”¨ Python è¿›è¡Œæµ‹è¯•å’Œç”¨ Pytest è¿›è¡Œæµ‹è¯•çš„æŒ‡å—ï¼Œä½†æ˜¯æœ‰ä¸€äº›ç‰¹æ€§æˆ‘å¾ˆå°‘åœ¨ä»»ä½•åœ°æ–¹çœ‹åˆ°ï¼Œä½†æ˜¯æˆ‘ç»å¸¸éœ€è¦ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œåˆ—å‡ºäº† Pytest çš„ä¸€ç³»åˆ—æŠ€å·§å’Œç‰¹æ€§ï¼Œè¿™äº›æ˜¯æˆ‘ç¦»ä¸å¼€çš„(è€Œä¸”ä½ ä¹Ÿä¸èƒ½å¾ˆå¿«ç¦»å¼€)ã€‚</span></p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">ä¾‹å¤–æµ‹è¯•</h2> 
  <pre class="language-javascript"><code>import pytest

def test_my_function():
    with pytest.raises(Exception, match='My Message') as e:
        my_function()
        assert e.type is ValueError</code></pre> 
  <p class="cyxy-trs-source cyxy-trs-target">è®©æˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹ã€‚ä½ æœ‰ä¸€ä¸ªæŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°ï¼Œä½ éœ€è¦ç¡®ä¿å®ƒåœ¨æ­£ç¡®çš„æ¡ä»¶ä¸‹å‘ç”Ÿå¹¶åŒ…å«æ­£ç¡®çš„æ¶ˆæ¯: import Pytest def test _ My _ function () : with Pytest.raises (Exceptionï¼Œmatch = â€˜ My Messageâ€™) as e: My _ function () assert. type is ValueError è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Pytest ä¸ºæˆ‘ä»¬æä¾›çš„ç®€å•ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚å®ƒå…è®¸æˆ‘ä»¬æŒ‡å®šåº”è¯¥å¼•å‘çš„å¼‚å¸¸ç±»å‹ä»¥åŠå¼‚å¸¸çš„æ¶ˆæ¯ã€‚å¦‚æœåœ¨å—ä¸­æ²¡æœ‰å¼•å‘å¼‚å¸¸ï¼Œåˆ™æµ‹è¯•å¤±è´¥ã€‚å½“ä¸Šä¸‹æ–‡ç®¡ç†å™¨è¿”å› ExceptionInfo ç±»æ—¶ï¼Œæ‚¨è¿˜å¯ä»¥æ£€æŸ¥å¼‚å¸¸çš„æ›´å¤šå±æ€§ï¼Œè¯¥ç±»å…·æœ‰ç±»å‹ã€å€¼æˆ–å›æº¯ç­‰å±æ€§ã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">è¿‡æ»¤è­¦å‘Š</h2> 
  <p class="cyxy-trs-source cyxy-trs-source-ted">With exceptions out of the way, let's look at warnings. Sometimes you get bunch of warning messages in your logs from inside of libraries that you use. You can't fix them and they really just create unnecessary noise, so let's get rid of them:</p> 
  <pre class="language-javascript"><code>import warnings
from sqlalchemy.exc import SADeprecationWarning

def test_my_function():
    # SADeprecationWarning is issued by SQLAchemy when deprecated API is used
    warnings.filterwarnings("ignore", category=SADeprecationWarning)
    ...
    assert ...

def test_my_function():
    with warnings.catch_warnings(record=True) as w:
        warnings.simplefilter("ignore")  # ignore annoying warnings
        ...
        assert ...
    # warnings restored</code></pre> 
  <p class="cyxy-trs-source cyxy-trs-target">é™¤äº†ä¾‹å¤–æƒ…å†µï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è­¦å‘Šã€‚æœ‰æ—¶å€™ä½ ä¼šä»ä½ ä½¿ç”¨çš„åº“ä¸­å¾—åˆ°ä¸€å †è­¦å‘Šæ¶ˆæ¯ã€‚æ‚¨ä¸èƒ½ä¿®å¤å®ƒä»¬ï¼Œå®ƒä»¬å®é™…ä¸Šåªæ˜¯åˆ›å»ºäº†ä¸å¿…è¦çš„å™ªéŸ³ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ‘†è„±å®ƒä»¬: ä» sqlalchemy å¯¼å…¥è­¦å‘Šã€‚Exc import SADeprecationWarning def test _ my _ function () : # SADeprecationWarning ç”± sqllachemy åœ¨ä½¿ç”¨å·²å¼ƒç”¨çš„ API è­¦å‘Šæ—¶å‘å‡ºã€‚Filterwarnings (â€œ ignoreâ€ï¼Œcategory = SADeprecationWarning) . ã€‚ã€‚æ–­è¨€...ä½¿ç”¨è­¦å‘Šæ¥æµ‹è¯• _ my _ function () :ã€‚Catch _ warnings (record = True)ä¸º w: warningsã€‚Simplefilter (â€œ ignoreâ€) # ignore annoying warnings..ã€‚ã€‚æ–­è¨€...# è­¦å‘Šæ¢å¤åœ¨è¿™é‡Œæˆ‘ä»¬å±•ç¤ºäº†ä¸¤ç§æ–¹æ³•-åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥å¿½ç•¥æŒ‡å®šç±»åˆ«çš„æ‰€æœ‰è­¦å‘Šï¼Œé€šè¿‡åœ¨è¿‡æ»¤å™¨åˆ—è¡¨å‰é¢æ’å…¥ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚è¿™å°†å¯¼è‡´æ‚¨çš„ç¨‹åºå¿½ç•¥æ­¤ç±»åˆ«çš„æ‰€æœ‰è­¦å‘Šï¼Œç›´åˆ°å®ƒç»ˆæ­¢ï¼Œè¿™å¯èƒ½ä¸æ€»æ˜¯å¯å–çš„ã€‚å¯¹äºç¬¬äºŒç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œåœ¨é€€å‡ºå…¶ä½œç”¨åŸŸåæ¢å¤æ‰€æœ‰è­¦å‘Šã€‚æˆ‘ä»¬è¿˜æŒ‡å®š record = Trueï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶æ£€æŸ¥å·²å‘å‡º(å¿½ç•¥)è­¦å‘Šçš„åˆ—è¡¨ã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">æµ‹è¯•æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯æ¶ˆæ¯</h2> 
  <p class="cyxy-trs-source cyxy-trs-target">æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„åœºæ™¯: æ‚¨æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒå…·æœ‰ä¸€äº›å‡½æ•°ï¼Œå¯ä»¥å°†æ¶ˆæ¯æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºï¼Œä½†æ˜¯ä¸è¿”å›ä»»ä½•å†…å®¹ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•æµ‹è¯•å‘¢ï¼ŸDef Test _ my _ function (capsys) : my _ function () # function that prints stuff Capture = capsys.readouterr () # Capture output assert fâ€œ Received invalid message...â€in captured.out # Test stdout assert fâ€œ Fatal error...â€in captured.err # Test stderr ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPytest æä¾›äº†ä¸€ä¸ªåä¸º capsys çš„ fixtureï¼Œå®ƒå¯ä»¥æ•è·ç³»ç»Ÿè¾“å‡ºã€‚æ‰€æœ‰æ‚¨éœ€è¦ä½¿ç”¨å®ƒçš„ï¼Œæ˜¯æ·»åŠ å®ƒä½œä¸ºå‚æ•°åˆ°æ‚¨çš„æµ‹è¯•å‡½æ•°ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨è°ƒç”¨æ­£åœ¨æµ‹è¯•çš„å‡½æ•°ä¹‹åï¼Œä»¥ tuple-(outï¼Œerr)çš„å½¢å¼æ•è·è¾“å‡ºï¼Œç„¶åå¯ä»¥åœ¨ assert è¯­å¥ä¸­ä½¿ç”¨å®ƒã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">ä¿®è¡¥å¯¹è±¡</h2> 
  <pre class="language-javascript"><code>from unittest import mock

def test_my_function():
    with mock.patch('module.some_function') as some_function:  # Used as context manager
        my_function()  # function that calls `some_function`

        some_function.assert_called_once()
        some_function.assert_called_with(2, 'x')

@mock.patch('module.func')  # Used as decorator
def test_my_function(some_function):
    module.func(10)  # Calls patched function
    some_function.assert_called_with(10)  # True</code></pre> 
  <pre class="language-javascript"><code>from unittest import mock

def test_my_function():
    with mock.patch.object(SomeClass, 'method_of_class', return_value=None) as mock_method:
        instance = SomeClass()
        instance.method_of_class('arg')

        mock_method.assert_called_with('arg')  # True

def test_my_function():
    r = Mock()
    r.content = b'{"success": true}'
    with mock.patch('requests.get', return_value=r) as get:  # Avoid doing actual GET request
        some_function()  # Function that calls requests.get
        get.assert_called_once()</code></pre> 
  <p class="cyxy-trs-source cyxy-trs-target">æœ‰æ—¶åœ¨æµ‹è¯•æ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦æ›¿æ¢è¢«æµ‹è¯•å‡½æ•°ä¸­ä½¿ç”¨çš„å¯¹è±¡ï¼Œä»¥æä¾›æ›´å¯é¢„æµ‹çš„æ•°æ®é›†ï¼Œæˆ–è€…é¿å…è¯¥å‡½æ•°è®¿é—®å¯èƒ½ä¸å¯ç”¨çš„èµ„æºã€‚Patch å¯ä»¥å¸®åŠ©ä½ : from unittest import mock def test _ my _ function () : with mock.patch (â€˜ module.some _ functionâ€™) as some _ function: # Used as context manager my function () # function that callsâ€˜ some _ functionâ€™some _ functionã€‚Assert _ called _ once () some _ function.Assert _ called _ with (2ï¼Œâ€˜ xâ€™)@mockã€‚Patch (â€˜ module.funcâ€™) # ç”¨ä½œ decorator def test _ my _ function (some _ function) : module.func (10) # è°ƒç”¨ patched function some _ functionã€‚Assert _ called with (10) # True åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯ä»¥å¯¹å‡½æ•°è¿›è¡Œè¡¥ä¸ï¼Œç„¶åæ£€æŸ¥å®ƒä»¬è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ä»¥åŠä½¿ç”¨äº†å“ªäº›å‚æ•°ã€‚è¿™äº›è¡¥ä¸è¿˜å¯ä»¥ä»¥ decorator å’Œ context manager çš„å½¢å¼è¿›è¡Œå †å ã€‚ç°åœ¨ï¼Œæœ‰äº†ä¸€äº›æ›´å¼ºå¤§çš„ç”¨é€”: ä» unittest import mock def test _ my _ function () : with mock.patc.object (SomeClassï¼Œâ€˜ method _ of _ classâ€™ï¼Œreturn _ value = None) as mock _ method: instance = SomeClass () instance.method _ of _ class (â€˜ argâ€™) mock _ methodã€‚Assert _ called _ with (â€˜ argâ€™) # True def test _ my _ Function () : r = Mock () r.content = bâ€™{â€œ successâ€: True }â€™with Mock.patch (â€˜ requests.GETâ€™ï¼Œreturn _ value = r) : # Avoid æ‰§è¡Œå®é™…çš„ GET request some _ Function () # Function that calls requests.GETã€‚åœ¨ç¬¬äºŒä¸ªæ›´å®é™…çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ›¿æ¢ requests.getï¼Œä½¿å®ƒè¿”å›æˆ‘ä»¬æä¾›åˆé€‚æ•°æ®çš„å¯¹è±¡ï¼Œä»è€Œé¿å…ä¾èµ–äºè¿œç¨‹ API/èµ„æºã€‚</p> 
  <p class="cyxy-trs-source cyxy-trs-target">Mock æ¨¡å—è¿˜å¯ä»¥ä¸ºæ‚¨åšå¾ˆå¤šäº‹æƒ…ï¼Œå…¶ä¸­ä¸€äº›éå¸¸ç–¯ç‹‚â€”â€”åŒ…æ‹¬å‰¯ä½œç”¨ã€ mocking å±æ€§ã€æ¨¡ä»¿ä¸å­˜åœ¨çš„å±æ€§ç­‰ç­‰ã€‚å¦‚æœæ‚¨åœ¨ç¼–å†™æµ‹è¯•æ—¶é‡åˆ°é—®é¢˜ï¼Œé‚£ä¹ˆæ‚¨è‚¯å®šåº”è¯¥ç­¾å‡ºè¿™ä¸ªæ¨¡å—çš„æ–‡æ¡£ï¼Œå› ä¸ºæ‚¨å¾ˆå¯èƒ½ä¼šåœ¨é‚£é‡Œæ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚</p> 
  <h2 class="cyxy-trs-source" style="color: #eeeeee; text-align: start;">Sharing Fixtures with<span>&nbsp;</span><span>å…±ç”¨å›ºå®šè£…ç½®</span><code class="inline">conftest.py</code></h2> 
  <p class="cyxy-trs-source cyxy-trs-target">å¦‚æœæ‚¨ç¼–å†™äº†å¤§é‡çš„æµ‹è¯•ï¼Œé‚£ä¹ˆåœ¨æŸä¸ªæ—¶å€™æ‚¨ä¼šæ„è¯†åˆ°å°†æ‰€æœ‰ Pytest fixture é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹æ˜¯å¾ˆå¥½çš„ï¼Œæ‚¨å¯ä»¥ä»ä¸­å¯¼å…¥å®ƒä»¬ï¼Œä»è€Œåœ¨æµ‹è¯•æ–‡ä»¶ä¹‹é—´å…±äº«å®ƒä»¬ã€‚è¿™å¯ä»¥é€šè¿‡ conftest.py æ¥è§£å†³ã€‚</p> 
  <p class="cyxy-trs-source cyxy-trs-target">Py æ˜¯ä¸€ä¸ªé©»ç•™åœ¨æµ‹è¯•ç›®å½•æ ‘åº•éƒ¨çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥å­˜å‚¨æ‰€æœ‰çš„æµ‹è¯•è£…ç½®ï¼Œç„¶åç”± Pytest è‡ªåŠ¨å‘ç°å®ƒä»¬ï¼Œå› æ­¤æ‚¨ç”šè‡³ä¸éœ€è¦å¯¼å…¥å®ƒä»¬ã€‚</p> 
  <p><span style="color: #c9cacc; text-align: justify; background-color: #1d1f21;"><span>å¦‚æœæ‚¨éœ€è¦åœ¨å¤šä¸ªæµ‹è¯•ä¹‹é—´å…±äº«æ•°æ®ï¼Œè¿™ä¹Ÿå¾ˆæœ‰å¸®åŠ©â€”â€”åªéœ€åˆ›å»ºè¿”å›æµ‹è¯•æ•°æ®çš„ fixture å³å¯</span></span></p> 
  <p class="cyxy-trs-source cyxy-trs-target">å¦ä¸€ä¸ªæœ‰ç”¨çš„ç‰¹æ€§æ˜¯èƒ½å¤ŸæŒ‡å®š fixture çš„èŒƒå›´â€”â€”è¿™åœ¨åˆ›å»ºéå¸¸æ˜‚è´µçš„ fixture æ—¶éå¸¸é‡è¦ï¼Œä¾‹å¦‚åˆ°æ•°æ®åº“çš„è¿æ¥(ä¼šè¯èŒƒå›´)å’Œåœ¨å…¶ä»–èŒƒå›´çš„è¿æ¥éœ€è¦åœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹(åŠŸèƒ½èŒƒå›´)ä¹‹åé‡ç½®ã€‚æ²»å…·èŒƒå›´çš„å¯èƒ½å€¼æ˜¯: å‡½æ•°ã€ç±»ã€æ¨¡å—ã€åŒ…å’Œä¼šè¯ã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">è¾…åŠ©è®¾å¤‡</h2> 
  <pre class="language-javascript"><code>import pytest, os

@pytest.fixture(scope='function')
def reset_sqlite_db(request):
    path = request.param  # Path to database file
    with open(path, 'w'): pass
    yield None
    os.remove(path)

@pytest.mark.parametrize('reset_sqlite_db', ['/tmp/test_db.sql'], indirect=True)
def test_send_message(reset_sqlite_db):
    ...  # Perform tests that access prepared SQLite database</code></pre> 
  <p class="cyxy-trs-source cyxy-trs-target">æˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­è®¨è®ºäº† fixtureï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å†æ·±å…¥ä¸€ç‚¹ã€‚å¦‚æœæ‚¨æƒ³é€šè¿‡å‚æ•°åŒ–æ¥åˆ›å»ºä¸€ä¸ªæ›´é€šç”¨çš„ fixtureï¼Œè¯¥æ€ä¹ˆåŠï¼ŸImport pytestï¼Œos@pytest.Fixture (scope = â€˜ functionâ€™) def reset _ sqlite _ db (request) : Path = request.param # Path to database file with open (Pathï¼Œâ€˜ wâ€™) : pass yield None os.remove (Path)@pytestã€‚å‚æ•°åŒ–(â€˜ reset _ SQLite _ dbâ€™ï¼Œ[â€™/tmp/test _ db.sqlâ€™] ï¼Œindirect = True) def test _ send _ message (reset _ SQLite _ db) : ... # Perform test that access prepared SQLite database Above æ˜¯ä¸€ä¸ª fixture ç¤ºä¾‹ï¼Œå®ƒä¸ºæ¯ä¸ªæµ‹è¯•å‡†å¤‡ SQLite æµ‹è¯•æ•°æ®åº“ã€‚è¿™ä¸ª fixture æ¥æ”¶æ•°æ®åº“çš„è·¯å¾„ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªè·¯å¾„ä½¿ç”¨ request å¯¹è±¡ä¼ é€’ç»™ fixtureï¼Œå±æ€§ param æ˜¯ä¼ é€’ç»™ fixture çš„æ‰€æœ‰å‚æ•°çš„è¿­ä»£ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­åªæœ‰ä¸€ä¸ª-è·¯å¾„ã€‚åœ¨è¿™é‡Œï¼Œè¿™ä¸ª fixture é¦–å…ˆåˆ›å»ºæ•°æ®åº“æ–‡ä»¶(ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œè¿˜å¯ä»¥å¡«å……å®ƒçœç•¥) ï¼Œç„¶åæ‰§è¡Œæµ‹è¯•ï¼Œæµ‹è¯•å®Œæˆåï¼Œfixture åˆ é™¤æ•°æ®åº“æ–‡ä»¶ã€‚</p> 
  <p class="cyxy-trs-source cyxy-trs-target">è‡³äºæµ‹è¯•æœ¬èº«ï¼Œæˆ‘ä»¬ä½¿ç”¨@pytestã€‚ä½¿ç”¨3ä¸ªå‚æ•°è¿›è¡Œå‚æ•°åŒ–â€”â€”ç¬¬ä¸€ä¸ªæ˜¯ fixture çš„åç§°ï¼Œç¬¬äºŒä¸ªæ˜¯ fixture çš„å‚æ•°å€¼åˆ—è¡¨ï¼Œå®ƒå°†æˆä¸º request.paramï¼Œæœ€åæ˜¯ keyword argument indirect = Trueï¼Œå®ƒå°†å¯¼è‡´å‚æ•°å€¼å‡ºç°åœ¨ request.param ä¸­ã€‚</p> 
  <p class="cyxy-trs-source cyxy-trs-target">æˆ‘ä»¬éœ€è¦åšçš„æœ€åä¸€ä»¶äº‹æƒ…æ˜¯æ·»åŠ  fixture ä½œä¸ºå‚æ•°æ¥æµ‹è¯•å®ƒè‡ªå·±ï¼Œç„¶åæˆ‘ä»¬å°±å®Œæˆäº†ã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-source-ted" style="color: #eeeeee; text-align: start;">Skipping Tests</h2> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">è·³è¿‡æµ‹è¯•</h2> 
  <pre class="language-javascript"><code>import pytest, os

@pytest.mark.skipif(os.system("service postgresql status") &gt; 0,
                    reason="PostgreSQL service is not running")
def test_connect_to_database():
    ... # Run function that tries to connect to PostgreSQL database</code></pre> 
  <p class="cyxy-trs-source cyxy-trs-target">æœ‰äº›æƒ…å†µä¸‹ï¼Œè·³è¿‡ä¸€äº›æµ‹è¯•æ˜¯åˆç†çš„ï¼Œä¸ç®¡æ˜¯å› ä¸ºç¯å¢ƒ(Linux vs Windows)ã€äº’è”ç½‘è¿æ¥ã€èµ„æºçš„å¯ç”¨æ€§æˆ–å…¶ä»–åŸå› ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼ŸImport pytestï¼Œos@pytest.0ï¼Œreason = â€œ PostgreSQL service is not runningâ€)) def test _ connect _ to _ database () : ... # Run å‡½æ•°ï¼Œå°è¯•è¿æ¥åˆ° PostgreSQL æ•°æ®åº“ã€‚åœ¨ Pytest è¿˜æœ‰å¾ˆå¤šå¾ˆé…·çš„åŠŸèƒ½å¯ä»¥è·³è¿‡æˆ–é¢„æµ‹å¤±è´¥ï¼Œè¿™é‡Œå·²ç»æœ‰å¾ˆå¥½çš„æ–‡æ¡£è¯´æ˜ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šåœ¨è¿™é‡Œè¯¦ç»†è¯´æ˜ï¼Œå› ä¸ºåœ¨è¿™é‡Œå¤åˆ¶å’Œç²˜è´´ç°æœ‰çš„å†…å®¹ä¼¼ä¹æ˜¯å¤šä½™çš„ã€‚</p> 
  <h2 class="cyxy-trs-source cyxy-trs-target" style="color: #eeeeee; text-align: start;">æ€»ç»“</h2> 
  <p class="cyxy-trs-source cyxy-trs-target">å¸Œæœ›è¿™äº›å°æŠ€å·§èƒ½è®©ä½ çš„æµ‹è¯•è¿‡ç¨‹å˜å¾—æ›´åŠ æ„‰å¿«å’Œé«˜æ•ˆï¼Œä»è€Œæ¿€åŠ±ä½ åœ¨ä¹‹å‰å†™æ›´å¤šçš„æµ‹è¯•ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶ä¸æˆ‘è”ç³»ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„å»ºè®®æˆ–æŠ€å·§ï¼Œè¯·åœ¨è¿™é‡Œåˆ†äº«ã€‚ğŸ™‚</p> 
  <h1 class="gs cu gt ba cj gu gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">Pytest å¯¼è®º(https://medium.com/@chilinski.a/intro-to-pytest-280f56e97f19)</h1> 
  <p class="ik il gt im b in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ç¼–ç æœ€é‡è¦çš„ä¸€ä¸ªæ–¹é¢æ˜¯æµ‹è¯•ãƒ¼ãƒ¼ç¡®ä¿ä½ çš„ä»£ç åœ¨æ‰€æœ‰å¯èƒ½çš„æƒ…å†µä¸‹éƒ½èƒ½å®Œæˆå®ƒåº”è¯¥å®Œæˆçš„ä»»åŠ¡ã€‚å½“ç„¶ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨ Pythonï¼ŒPython çš„ä¸»è¦æµ‹è¯•æ¡†æ¶ç§°ä¸º pytest(https://docs.pytest.org/en/stable/)ã€‚</p> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">å°±åƒä»»ä½• Python åŒ…ä¸€æ ·ï¼Œæ‚¨éœ€è¦ç”¨ pip å®‰è£…å®ƒ(æœ€å¥½æ˜¯åœ¨é¡¹ç›®çš„è™šæ‹Ÿç¯å¢ƒä¸­https://medium.com/swlh/python-virtual-environments-221c39943bab)ã€‚æ‰€ä»¥è¿è¡Œå‘½ä»¤:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>pip install pytest</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ç¡®ä¿å®‰è£…æ—¶è¿è¡Œ:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>pip freeze</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ä¸€æ—¦å®‰è£…å®Œæ¯•ï¼Œå°±å¯ä»¥å¼€å§‹æµ‹è¯•äº†ï¼è¯·è®°ä½ï¼Œåœ¨ä»»ä½•æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œæ‚¨éƒ½éœ€è¦å¯¼å…¥ pytest:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>import pytest</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">æˆ‘å°†å±•ç¤ºä¸€ä¸ªéå¸¸ç®€å•çš„å•å…ƒæµ‹è¯•(æµ‹è¯•ä¸€å°æ®µä»£ç )ã€‚å‡è®¾æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå‡½æ•°(ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåä¸º testing.py çš„æ–‡ä»¶ä¸­) ï¼Œè¯¥å‡½æ•°ä»¥ä¸€ä¸ªæ•°å­—ä½œä¸ºå‚æ•°ï¼Œå½“æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šå°†è¯¥æ•°å­—åŠ ä¸Š5ã€‚åƒè¿™æ ·:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>def add_five(num):
   return num + 5</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ç®€å•çš„ä¸œè¥¿ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æµ‹è¯•ï¼Œä»¥ç¡®ä¿è¿™ä¸ªå‡½æ•°çš„å·¥ä½œï¼Œé€šè¿‡æ·»åŠ ä¸‹é¢çš„ä»£ç :</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>def test_method():
   assert add_five(3) == 8</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">äº†è§£åŸºæœ¬çš„æ•°å­¦çŸ¥è¯†ï¼Œè¿™ä¸ªæµ‹è¯•åº”è¯¥å¯ä»¥é€šè¿‡:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>pytest testing.py</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ä½ ä»¬ä¼šçœ‹åˆ°è¿™æ ·çš„ååº”:</p> 
  <div class="jz ka ao kb w kc"> 
   <div class="ga gb jx"> 
    <div class="ki s ao kj" style="background-color: #f2f2f2;"> 
     <div class="kk kl s"> 
      <div class="et kd gj fs fp ke w kf kg kh"> 
       <br> 
      </div> 
      <img referrerpolicy="no-referrer" alt="" class="mce_image" height="151" id="images_162515225566969" src="https://miro.medium.com/max/700/1*HyYSZ2aG3mxiY9OzVu4oXQ.png" style="background-color: #ffffff;" width="700"> 
     </div> 
    </div> 
   </div> 
  </div> 
  <p>pytest<span>&nbsp;é€šè¿‡pytest&nbsp;</span></p> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">ç§ï¼Œæµ‹è¯•é€šè¿‡äº†ï¼ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å°†æµ‹è¯•å‡½æ•°æ›´æ”¹ä¸ºä¸€ä¸ªå¤±è´¥çš„å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p> 
  <pre class="jk jl jm jn jo jp dr jq  language-javascript"><code>def test_function():
   assert add_five(3) == 3</code></pre> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">3 + 5ä¸åº”è¯¥ç­‰äº3. æ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹è¿è¡Œ pytest testing.py æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ:</p> 
  <div class="jz ka ao kb w kc"> 
   <div class="ga gb kv"> 
    <div class="ki s ao kj" style="background-color: #f2f2f2;"> 
     <div class="kw kl s"> 
      <div class="et kd gj fs fp ke w kf kg kh"> 
       <br> 
      </div> 
      <img referrerpolicy="no-referrer" alt="" class="mce_image" height="212" id="images_162515225566992" src="https://miro.medium.com/max/700/1*cqidPn8MJJpjSXc1COnrxg.png" style="background-color: #ffffff;" width="700"> 
     </div> 
    </div> 
   </div> 
  </div> 
  <p>failing pytest<span>&nbsp;åŒ–è„“å¤±è´¥è¯•éªŒ</span></p> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">å°±æ˜¯è¿™æ ·ï¼Œå®ƒå¤±è´¥äº†ã€‚å®ƒæ˜¾ç¤ºäº†æ–­è¨€é”™è¯¯æ˜¯ä»€ä¹ˆ(8ä¸ç­‰äº3)ã€‚å› æ­¤ï¼Œè¿™ä¸¤ä¸ªæµ‹è¯•éƒ½ç¡®ä¿äº†åŸå§‹çš„ add _ five ()å‡½æ•°èƒ½å¤Ÿå®Œæˆå®ƒåº”è¯¥å®Œæˆçš„ä»»åŠ¡ã€‚</p> 
  <p class="ik il gt im b in jf io ip iq jg ir is it jh iu iv iw ji ix iy iz jj ja jb jd cw ev cyxy-trs-source cyxy-trs-target" style="color: #292929; background-color: #ffffff;">è¿˜æœ‰å¾ˆå¤šéœ€è¦æµ‹è¯•çš„åœ°æ–¹ï¼Œæˆ‘å¾ˆå¯èƒ½åœ¨æŸä¸ªæ—¶å€™å†å†™ä¸€ç¯‡å…³äºå®ƒçš„åšæ–‡ã€‚ä½†è¿™åªæ˜¯ä¸€ä¸ªç®€çŸ­çš„ä»‹ç»ï¼</p> 
  <h1 class="hc hd he bf hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib cyxy-trs-source cyxy-trs-target">4ä¸ªé²œä¸ºäººçŸ¥ä½†å¾ˆæ£’çš„ Pytest æŠ€å·§(https://towardsdatascience.com/4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c)</h1> 
  <div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
   <div class="au av aw ax ay hb ba v"> 
    <div class="kb kc at kd v ke"> 
     <div class="gk gl jy"> 
      <img referrerpolicy="no-referrer" alt="" class="mce_image" height="1050" id="images_162515244328622" src="https://miro.medium.com/max/1400/0*Thjx7rZfjHz_aKPp" width="700"> 
     </div> 
    </div> Photo by<span>&nbsp;</span><span>å›¾ç‰‡ç”±</span><a class="cw kl cyxy-trs-source" style="color: inherit; text-decoration: underline;">Gayatri Malhotra</a><span>&nbsp;</span>on<span>&nbsp;</span><span>æ‰“å¼€</span><a class="cw kl cyxy-trs-source" style="color: inherit; text-decoration: underline;">Unsplash</a> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;">Motivation</h1> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åŠ¨æœº</h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä½œä¸ºä¸€ä¸ªæ•°æ®ç§‘å­¦å®¶ï¼Œç¡®ä¿ä½ çš„åŠŸèƒ½æ­£å¸¸å·¥ä½œæ˜¯å¾ˆé‡è¦çš„ã€‚ä¸€ä¸ªå¥½çš„åšæ³•æ˜¯ç¼–å†™ä¸€ä¸ªå°å‡½æ•°ï¼Œç„¶åç”¨å•å…ƒæµ‹è¯•æ¥æµ‹è¯•æ‚¨çš„å‡½æ•°ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¸å…¶è¯•å›¾è°ƒè¯•å¤§å—çš„ä»£ç ï¼Œä¸å¦‚å°†ä»£ç æ‹†åˆ†æˆå°å—ï¼Œå¹¶ç¡®ä¿å°å—èƒ½å¤Ÿå·¥ä½œã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">Pytest æ˜¯ä¸€ä¸ªç†æƒ³çš„æ¡†æ¶ï¼Œå®ƒä½¿ç”¨ Python ç¼–å†™å°å‹æµ‹è¯•å˜å¾—å®¹æ˜“ã€‚æˆ‘åœ¨è¿™é‡Œä»‹ç»äº†å•å…ƒæµ‹è¯•çš„å¥½å¤„ä»¥åŠå¦‚ä½•å¼€å§‹ pytestã€‚åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å±•ç¤ºäº†å¦‚ä½•:</p> 
    <ul class=""> 
     <li class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md mj mk ml ib cyxy-trs-source" style="color: #292929;">Test one function with multiple tests<span>&nbsp;ç”¨å¤šä¸ªæµ‹è¯•æµ‹è¯•ä¸€ä¸ªå‡½æ•°</span></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib cyxy-trs-source" style="color: #292929;">Combine multiple tests into one test function<span>&nbsp;å°†å¤šä¸ªæµ‹è¯•åˆå¹¶åˆ°ä¸€ä¸ªæµ‹è¯•å‡½æ•°ä¸­</span></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib cyxy-trs-source" style="color: #292929;">Test one function at a time<span>&nbsp;æ¯æ¬¡æµ‹è¯•ä¸€ä¸ªå‡½æ•°</span></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib cyxy-trs-source" style="color: #292929;">Test different functions using the same data<span>&nbsp;ä½¿ç”¨ç›¸åŒçš„æ•°æ®æµ‹è¯•ä¸åŒçš„å‡½æ•°</span></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib cyxy-trs-source" style="color: #292929;">Structure your projects<span>&nbsp;ç»„ç»‡ä½ çš„é¡¹ç›®</span></li> 
    </ul> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;">In<span>&nbsp;</span>this article, I will show you how to:</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•:</p> 
    <ul class=""> 
     <li class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md mj mk ml ib" style="color: #292929;"><strong class="lm hf cyxy-trs-source">Filter warnings<span>&nbsp;è¿‡æ»¤è­¦å‘Š</span></strong></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib" style="color: #292929;"><strong class="lm hf cyxy-trs-source">Print the output of the function being tested<span>&nbsp;æ‰“å°è¢«æµ‹è¯•å‡½æ•°çš„è¾“å‡º</span></strong></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib" style="color: #292929;"><strong class="lm hf cyxy-trs-source">Benchmark your code<span>&nbsp;åŸºå‡†æµ‹è¯•ä½ çš„ä»£ç </span></strong></li> 
     <li class="lk ll he lm b id mm kr lo ig mn kv lq lr mo lt lu lv mp lx ly lz mq mb mc md mj mk ml ib" style="color: #292929;"><strong class="lm hf cyxy-trs-source">Repeat a single test for a specific number of times<span>&nbsp;åœ¨ç‰¹å®šçš„æ¬¡æ•°å†…é‡å¤ä¸€ä¸ªæµ‹è¯•</span></strong></li> 
    </ul> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬å¼€å§‹å§ï¼</p> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿‡æ»¤è­¦å‘Š</h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨è¿è¡Œ pytest æ—¶ç»å¸¸ä¼šçœ‹åˆ°å¼ƒç”¨è­¦å‘Šã€‚å½“æˆ‘ä»¬åªæƒ³è°ƒè¯•ä»£ç æ—¶ï¼Œè¿™äº›è­¦å‘Šå¯èƒ½æ˜¯ä¸å¿…è¦çš„ï¼Œå¹¶ä¸”æ˜¾å¾—å¾ˆçƒ¦äººã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿‡æ»¤ pytest è­¦å‘Šã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘å°†ä»æˆ‘ä»¥å‰çš„ pytest æ–‡ç« ä¸­å€Ÿç”¨è¿™äº›ä¾‹å­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æƒ³æµ‹è¯• TextBlob æ˜¯å¦å‡†ç¡®åœ°é¢„æµ‹äº†æ–‡æœ¬çš„æƒ…ç»ªã€‚å¦‚æœæ‚¨ä¸äº†è§£ TextBlobï¼Œå¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºè¯¥å·¥å…·çš„ä¿¡æ¯ã€‚</p> 
    <div class="mw s at"> 
     <div class="zh my s"> <iframe src="https://towardsdatascience.com/media/dc353284f6c576ebb053a6b57acdd038" width="680" height="353"></iframe> 
     </div> 
    </div> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å½“æˆ‘ä»¬æµ‹è¯•è¿™ä¸ªè„šæœ¬æ—¶ï¼Œä½¿ç”¨</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>pytest test_example.py</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬ä¼šçœ‹åˆ°è­¦å‘Šã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¸ºäº†è¿‡æ»¤è­¦å‘Šï¼Œåœ¨è¿è¡Œè„šæœ¬çš„åŒä¸€ä¸ªç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º pytest.ini çš„æ–‡ä»¶</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>.
â”œâ”€â”€ pytest.ini
â””â”€â”€ test_example.py</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç„¶åå°†ä¸‹é¢çš„å†…å®¹æ’å…¥åˆ° pytest.ini ä¸­</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>[pytest]addopts = -p no:warnings</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å°±æ˜¯è¿™æ ·! ç°åœ¨é‡æ–°è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ã€‚æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªæ²¡æœ‰è­¦å‘Šçš„å¹²å‡€è¾“å‡ºï¼</p> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ‰“å°è¾“å‡º</h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›åœ¨ç¼–å†™ assert è¯­å¥ä¹‹å‰çœ‹åˆ°ä¸­é—´è¾“å‡ºã€‚ä¸ºä»€ä¹ˆä¸æ‰“å°è¾“å‡ºæ¥çŸ¥é“ä¸­é—´è¾“å‡ºå‘¢ï¼Ÿ</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¿™ä¹Ÿå°†å¸®åŠ©æˆ‘ä»¬å¼€å‘ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆæˆ‘ä»¬æƒ³è¦çš„è¾“å‡ºã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å° text.sentiment æ¥çŸ¥é“ text.sentiment åˆ°åº•æ˜¯åšä»€ä¹ˆçš„</p> 
    <div class="mw s at"> 
     <div class="zg my s"> <iframe src="https://towardsdatascience.com/media/d929d7164a633757276f93d8dbf15e1e" width="680" height="378"></iframe> 
     </div> 
    </div> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><br></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å½“è¿è¡Œ pytest _ example.py æ—¶ï¼Œæˆ‘ä»¬å°†çœ‹ä¸åˆ°ä»»ä½•è¾“å‡ºã€‚ä¸ºäº†æŸ¥çœ‹ print å‡½æ•°çš„è¾“å‡ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤æœ«å°¾åŒ…å«-s</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>&gt;&gt;&gt; pytest test_example.py -s====================== test session starts ======================
test_examply.py Sentiment(polarity=0.8, subjectivity=0.75)
======================= 1 passed in 0.49s =======================</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><br></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¤ªæ£’äº†! ç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬å¯ä»¥ç”¨ text.sentiment.polarityæ¥è·å–æƒ…ç»ªçš„ææ€§ã€‚</p> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¤šæ¬¡é‡å¤ä¸€ä¸ªæµ‹è¯•</h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æœ‰æ—¶æˆ‘ä»¬å¯èƒ½æƒ³è¦è¿è¡Œä¸€ä¸ªæµ‹è¯•100æ¬¡ï¼Œä»¥ç¡®ä¿å‡½æ•°å§‹ç»ˆæŒ‰é¢„æœŸå·¥ä½œã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‘ç°äº†åˆå¹¶ä¸¤ä¸ª Python åˆ—è¡¨çš„æ–¹æ³•</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>&gt;&gt;&gt; l1 = [1,2,3]
&gt;&gt;&gt; l2 = [4,5,6]
&gt;&gt;&gt; l1.extend(l2)
&gt;&gt;&gt; l1
[1,2,3,4,5,6]</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä»è¾“å‡ºæ¥çœ‹ï¼Œåˆ—è¡¨ l2ä¸­çš„å€¼ä¼¼ä¹æ˜¯æ’å…¥åœ¨åˆ—è¡¨ l1ä¸­çš„å€¼ä¹‹åã€‚ä½†æ˜¯æ¯å¯¹åˆ—è¡¨çš„é¡ºåºéƒ½æ˜¯è¿™æ ·çš„å—ï¼Ÿ</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä¸ºäº†ç¡®ä¿ä½¿ç”¨ functionextend æ—¶ä¿æŒæ’å…¥é¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªéšæœºåˆ—è¡¨ï¼Œç„¶åå¯¹å…¶è¿›è¡Œ100æ¬¡æµ‹è¯•ã€‚å¦‚æœæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼Œæˆ‘ä»¬ç¡®ä¿¡å‡½æ•°å°†å§‹ç»ˆå¦‚æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·å·¥ä½œ</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">è‹¥è¦é‡å¤å•ä¸ªæµ‹è¯•ï¼Œè¯·å®‰è£… pytest-repeat</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>pip install pytest-repeat</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;"><br></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ä½¿ç”¨ pytest.mark.repeat (100)ä½œä¸ºæˆ‘ä»¬è¦é‡å¤çš„æµ‹è¯•å‡½æ•°çš„ decorator</p> 
    <div class="mw s at"> 
     <div class="zi my s"> <iframe src="https://towardsdatascience.com/media/2304ecc419838f7d5de0584052a08170" width="680" height="655"></iframe> 
     </div> 
    </div> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>&gt;&gt;&gt; pytest test_repeat.py 
====================== test session starts ========================test_repeat.py ...........                                  [100%]======================= 101 passed in 0.09s =======================</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¤ªæ£’äº†ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ç¡®å®šï¼Œåœ¨ä½¿ç”¨ extend ()æ—¶ï¼Œæ’å…¥é¡ºåºå°†å§‹ç»ˆä¿ç•™ï¼Œå› ä¸º101ä¸ªæµ‹è¯•å·²ç»é€šè¿‡ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¦‚æœä½ æƒ³æ›´åŠ ç¡®å®šï¼Œé‚£å°±æŠŠæ•°é‡å¢åŠ åˆ°1000ï¼Œç„¶åçœ‹çœ‹ä½ èƒ½å¾—åˆ°ä»€ä¹ˆã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å…³äº pytest-repeat çš„æ›´å¤šä¿¡æ¯ã€‚</p> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åŸºå‡†æµ‹è¯•ä½ çš„ä»£ç </h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬å¯èƒ½ä¸ä»…è¦æ–­è¨€è¾“å‡ºæ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ï¼Œè€Œä¸”è¿˜è¦æ¯”è¾ƒä¸åŒå‡½æ•°çš„é€Ÿåº¦ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åŸºå‡†æµ‹è¯•æ˜¯ä¸€ç§æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥è¡¡é‡æˆ‘ä»¬çš„ä»£ç æœ‰å¤šå¿«ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªåä¸º pytest-benchmark çš„åº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ç”¨ pytest æµ‹è¯•å‡½æ•°æ—¶å¯¹ä»£ç è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-source-ted" style="color: #292929;">Install<span>&nbsp;</span><code class="nh ni nj nk nd b">pytest-benchmark</code><span>&nbsp;</span>with</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å®‰è£… pytest-benchmark</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>pip install pytest-benchmark</code></pre> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘å°†ä»å…³äºé«˜æ•ˆ Python ä»£ç è®¡æ—¶çš„æ–‡ç« ä¸­å€Ÿç”¨ä¸€äº›ç¤ºä¾‹æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨ pytest-benchmarkã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æµ‹è¯•ä½¿ç”¨ concat æ–¹æ³•åˆ›å»ºä¸€ä¸ªåˆ—è¡¨éœ€è¦å¤šé•¿æ—¶é—´</p> 
    <div class="mw s at"> 
     <div class="afu my s"> <iframe src="https://towardsdatascience.com/media/abd0507d9467318e2461f8c93f924524" width="680" height="259"></iframe> 
     </div> 
    </div> 
    <div class="kb kc at kd v ke"> 
     <div class="gk gl nq"> 
      <div class="mw s at nh" style="background-color: #f2f2f2;"> 
       <div class="nw my s"> 
        <div class="dg nr fm fy fv ns v nt nu nv"> 
         <br> 
        </div> 
        <img referrerpolicy="no-referrer" alt="" class="mce_image" height="291" id="images_162515244328687" src="https://miro.medium.com/max/700/1*2ja75UdRPhJaLn5Kz3KM4Q.png" style="background-color: #ffffff;" width="700"> 
       </div> 
      </div> 
     </div> 
    </div> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å¹³å‡è¿è¡Œæ—¶é—´ä¸º792.1252å¾®ç§’ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…¶ä»–æµ‹é‡ï¼Œå¦‚æœ€å°æ—¶é—´å’Œæœ€å¤§æ—¶é—´ï¼</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºæµ‹è¯•å‡½æ•°æ’å…¥å‚æ•°ï¼Œå¹¶é‡å¤æµ‹è¯•100æ¬¡ï¼Œä»¥æ›´å‡†ç¡®åœ°ä¼°è®¡ä»£ç æ‰§è¡Œçš„é€Ÿåº¦ã€‚</p> 
    <div class="kb kc at kd v ke"> 
     <div class="gk gl nz"> 
      <div class="mw s at nh" style="background-color: #f2f2f2;"> 
       <div class="oa my s"> 
        <img referrerpolicy="no-referrer" alt="" class="mce_image" height="153" id="images_162515244328616" src="https://miro.medium.com/max/700/1*0ysqfM67lg6cdIHrnGSfGg.png" style="background-color: #ffffff;" width="700"> 
       </div> 
      </div> 
     </div> 
    </div> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªä¸åŒçš„å¹³å‡å€¼730å¾®ç§’ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ pytest-benchmark æ¯”è¾ƒå¤šä¸ªæ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªèŒƒå›´ä»0åˆ°999çš„åˆ—è¡¨ã€‚</p> 
    <div class="mw s at"> 
     <div class="afv my s"> 
      <br> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="ka v" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
   <img referrerpolicy="no-referrer" alt="" class="mce_image" height="271" id="images_162515244328654" src="https://miro.medium.com/max/3130/1*eNMmh8kC3l7DY8NcPpWhlw.png" width="1565"> 
  </div> 
  <div class="n p" style="color: rgba(0, 0, 0, 0.8); background-color: #ffffff;"> 
   <div class="au av aw ax ay hb ba v"> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">è¾“å‡ºå¾ˆå¥½ï¼Œå¾ˆå®¹æ˜“é˜…è¯»ï¼ä»è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ list range æ–¹æ³•æ‰§è¡Œæ—¶é—´æœ€çŸ­ï¼Œconcat æ–¹æ³•æ‰§è¡Œæ—¶é—´æœ€é•¿ï¼</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬çŸ¥é“ theconcat æ–¹æ³•æ¯”å…¶ä»–æ–¹æ³•éœ€è¦æ›´å¤šçš„æ—¶é—´æ¥æ‰§è¡Œï¼Œä½†æ˜¯éœ€è¦å¤šé•¿æ—¶é—´å‘¢ï¼Ÿ</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€”â€”<code class="nh ni nj nk nd b">--benchmark-historgram</code>æ¥å¯è§†åŒ–ç»“æœ</p> 
    <pre class="mr ms mt mu mv mz na nb  language-javascript"><code>pytest test_benchmark.py --benchmark-histogram</code></pre> 
    <div class="kb kc at kd v ke"> 
     <div class="gk gl og"> 
      <img referrerpolicy="no-referrer" alt="" class="mce_image" height="523" id="images_162515244328672" src="https://miro.medium.com/max/1400/1*IjxjbiloXfuJSdE_bymF2w.png" width="700"> 
     </div> 
    </div> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">å“‡! ä¸å…¶ä»–æ–¹æ³•ç›¸æ¯”ï¼ŒTheconcat æ–¹æ³•éœ€è¦æ›´é•¿çš„è¿è¡Œæ—¶é—´ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ‚¨å¯ä»¥åœ¨è¿™é‡Œäº†è§£æœ‰å…³ pytest-benchmark çš„æ›´å¤šä¿¡æ¯ã€‚</p> 
    <h1 class="km kn he bf ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æ€»ç»“</h1> 
    <p class="lk ll he lm b id ln kr lo ig lp kv lq lr ls lt lu lv lw lx ly lz ma mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ç¥è´ºä½ ï¼æ‚¨åˆšåˆšå­¦ä¹ äº†4ç§ä½¿ç”¨ pytest æµ‹è¯•å‡½æ•°çš„æŠ€å·§ã€‚æˆ‘å¸Œæœ›è¿™äº›èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´æœ‰æ•ˆåœ°æµ‹è¯•å‡½æ•°å¹¶ç¼–å†™å¥å£®çš„ä»£ç ã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">ä½ çš„é˜Ÿå‹ä¼šæ„Ÿè°¢ä½ ç¼–å†™çš„ä»£ç å·¥ä½œã€‚</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;">æœ¬æ–‡çš„æºä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°</p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><br></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://medium.com/testcult/intro-to-test-framework-pytest-5b1ce4d011ae</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://martinheinz.dev/blog/7</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://medium.com/@chilinski.a/intro-to-pytest-280f56e97f19</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://towardsdatascience.com/4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://towardsdatascience.com/5-advanced-pytest-tricks-c5d733b2acc7</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://medium.datadriveninvestor.com/pytest-a-beginner-guide-9ba84a18d3dd</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://faun.pub/lets-learn-pytest-a2ab60600fab</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><a>https://betterprogramming.pub/understand-5-scopes-of-pytest-fixtures-1b607b5c19ed</a></p> 
    <p class="lk ll he lm b id me kr lo ig mf kv lq lr mg lt lu lv mh lx ly lz mi mb mc md gx ib cyxy-trs-source cyxy-trs-target" style="color: #292929;"><br></p> 
   </div> 
  </div> 
 </div> 
</div>
    </div>
    
    <div class="cloud-blog-detail-attachment-download" id="attachment">
    
            <p>
                <img src="https://res.hc-cdn.com/ecology/6.7.104/editor/node_modules/tinymce/icons/fileassets/file_type_zip.svg">
                <a att-id="94a6a5bace7b40fbbae56cb5eb2336c9" href="/blogs/attachment?id=94a6a5bace7b40fbbae56cb5eb2336c9" title="pytest_artices.zip">pytest_artices.zip</a>
                <span class="attSize">6.53MB</span>
                <span class="downloadNum">ï¼Œä¸‹è½½æ¬¡æ•°ï¼š<i>1</i>æ¬¡</span>
            </p>
    
    </div>
    
    
    <p class="pc_current ask-tip">ç™»å½•åå¯ä¸‹è½½é™„ä»¶ï¼Œè¯·<a href="https://auth.huaweicloud.com/authui/login?service=https://bbs.huaweicloud.com/blogs/281474#attachment&amp;locale=zh-cn">ç™»å½•</a>æˆ–è€…<a href="https://reg.huaweicloud.com/registerui/public/custom/register.html?locale=zh-cn&amp;service=https://bbs.huaweicloud.com#/register">æ³¨å†Œ</a></p>

    <!-- ç‰ˆæƒå£°æ˜ start -->
    
   
    
    <!-- ç‰ˆæƒå£°æ˜ end -->

    <div class="blog-menu-footer m-blog-menu-footer-bottom">
        
        <a class="common-blog-menu-btn title_banner_7" target="_self" rel="noopener noreferrer" mate_data_ts="bbs_blogdetail_blogTag.click.API_Blog" title="API" href="https://developer.huaweicloud.com/tags/200212/blog_1">API</a>
        
        <a class="common-blog-menu-btn title_banner_7" target="_self" rel="noopener noreferrer" mate_data_ts="bbs_blogdetail_blogTag.click.Python_Blog" title="Python" href="https://developer.huaweicloud.com/tags/200496/blog_1">Python</a>
        
    </div>
</div></div>